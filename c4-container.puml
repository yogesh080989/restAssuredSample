@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

' People
Person(sre, "SRE / DevOps Team")
Person(biz, "Business User / Approver")
Person(qa,  "QA Team")

' System boundary and key container (you can add more containers later)
System_Boundary(srep_sys, "SREP Application") {
  Container(app, "app-SREP", "Service / Web App", "Primary runtime")
}

' External systems (same as context view)
System_Ext(snw,  "ServiceNow")
System_Ext(spl,  "Splunk")
System_Ext(apd,  "AppDynamics")
System_Ext(prom, "Prometheus")
System_Ext(dbs,  "Enterprise Databases")
System_Ext(file, "Network File Share")
System_Ext(auth, "Authentication Services")
System_Ext(ans,  "Ansible Tower AAP")
System_Ext(ame,  "Amelia")
System_Ext(jira, "Jira")
System_Ext(email,"Email System")
System_Ext(llm,  "LLM Service")
System_Ext(lb,   "Load Balancers")
System_Ext(tab,  "Tableau")

' CI/CD & SCM as external systems
System_Ext(scm, "Source Control (Git)")
System_Ext(ci,  "CI/CD Orchestrators")
System_Ext(art, "Artifactory")
System_Ext(scan,"Code Scanners")

' Relationships
Rel(sre, app,  "Operates / uses")
Rel(biz, app,  "Approves / uses")
Rel(qa,  app,  "Tests")

Rel(app, auth, "AuthN/AuthZ")
Rel(app, snw,  "Tickets / Change data")
Rel(app, spl,  "Logs / Metrics")
Rel(app, apd,  "APM telemetry")
Rel(app, prom, "Metrics / Alerts")
Rel(app, dbs,  "Read/Write")
Rel(app, file, "Batch files")

Rel(app, ans,  "Runbooks / Jobs")
Rel(app, ame,  "Virtual agent")
Rel(app, jira, "Issues")
Rel(app, email,"Notifications")
Rel(app, llm,  "AI calls")
Rel(app, lb,   "Ingress / routing")
Rel(app, tab,  "Analytics exports")

Rel(sre,  scm,  "Commit / PR")
Rel(scm,  ci,   "Pipelines")
Rel(ci,   scan, "SAST/DAST")
Rel(ci,   art,  "Builds / Artifacts")
Rel(ci,   app,  "Deploy")

SHOW_LEGEND()
@enduml
